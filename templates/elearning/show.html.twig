{% extends 'baseback.html.twig' %}

{% block title %}Elearning Details{% endblock %}

{% block body %}
    <h1 class="mb-4">Elearning Details</h1>

    <table class="table table-bordered">
        <tbody>
            <tr>
                <th>ID</th>
                <td>{{ elearning.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ elearning.title }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ elearning.description }}</td>
            </tr>
            <tr>
            <th>Categories</th>
            <td>
                    {% if elearning.categories is not empty %}
                        {% for category in elearning.categories %}
                            {{ category.name }}{% if not loop.last %}, {% endif %}
                        {% endfor %}
                    {% else %}
                        No Categories
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th>Content Type</th>
                <td>{{ elearning.contentType }}</td>
            </tr>
            <tr>
                <th>Content URL</th>
                <td>
                    {% if elearning.contentUrl %}
                        <a href="{{ elearning.contentUrl }}" target="_blank">{{ elearning.contentUrl }}</a>
                    {% else %}
                        N/A
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th>Duration</th>
                <td>{{ elearning.duration }} min</td>
            </tr>
            <tr>
                <th>Difficulty Level</th>
                <td>{{ elearning.difficultyLevel|capitalize }}</td>
            </tr>
            <tr>
                <th>Created At</th>
                <td>{{ elearning.createdAt ? elearning.createdAt|date('Y-m-d H:i:s') : 'N/A' }}</td>
            </tr>
            <tr>
                <th>Updated At</th>
                <td>{{ elearning.updatedAt ? elearning.updatedAt|date('Y-m-d H:i:s') : 'N/A' }}</td>
            </tr>
            <tr>
                <th>File</th>
                <td>
                    {% if elearning.filePath %}
                        {% set fileExt = elearning.filePath|split('.')|last %}
                        {% if fileExt in ['png', 'jpeg', 'jpg'] %}
                            <img src="{{ asset('uploads/' ~ elearning.filePath) }}" alt="File" style="max-width: 200px;">
                        {% elseif fileExt == 'pdf' %}
                            <a href="{{ asset('uploads/' ~ elearning.filePath) }}" target="_blank">üìÑ View PDF</a>
                        {% else %}
                            <a href="{{ asset('uploads/' ~ elearning.filePath) }}" download>üì• Download File</a>
                        {% endif %}
                    {% else %}
                        No file uploaded.
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <div class="mt-3">
        <a class="btn btn-primary" href="{{ path('app_elearning_index') }}">üîô Back to list</a>
        <a class="btn btn-warning" href="{{ path('app_elearning_edit', {'id': elearning.id}) }}">‚úèÔ∏è Edit</a>
    </div>

    <div class="mt-3">
        {{ include('elearning/_delete_form.html.twig') }}
    </div>
{% endblock %}
